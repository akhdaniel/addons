<?xml version="1.0"?>

<openerp>
    <data>
      
    <record model="ir.ui.view" id="crm_case_form_view_job2">
        <field name="name">Jobs-Recruitment Form</field>
        <field name="model">hr.applicant</field>
        <!--field name="model">hr.applicant</field>
        <field name="model">ir.needaction_mixin</field>
        <field name="model">mail.thread</field-->
        <field name="type">form</field>
        <field name="inherit_id" ref="hr_recruitment.crm_case_form_view_job"/>
        <field name="arch" type="xml">
            <!--field name="partner_name" position="after">
                    <field name="survey_id" placeholder="Select Interview" domain="[('type','=','Human Resources')]" attrs="{'invisible':['|',('survey_id','=',False),('state','=','draft'),('state','=','pending'),('state','=','cancel'),('state','=','done')]}"/-->
            <!--header>          
                <button string="Filter Applicant" name="coco" type="object" class="oe_highlight" attrs="{'invisible':[('state','!=','draft')]}"/>
            </header-->

            <button name="case_close_with_emp"  position="replace">
                <button name="case_close_with_emp" string="Hire &amp; Create Employee" type="object"
                        groups="hrd_ppi.group_hr_training_head" 
                        class="oe_highlight" attrs="{'invisible':['|', ('emp_id','!=',False), ('state','!=','done')]}"/>
            </button>
            <button name="case_cancel" position="replace">
                 <button name="case_cancel" string="Refuse" type="object"
                        states="draft,open,pending" class="oe_highlight"
                        groups="hrd_ppi.group_hr_training_head" />
            </button>            

            <field name="partner_name" position="after">
                <field name="stage_id"/>
                <field name="empgol_id" attrs="{'required':[('state','=','done')],'invisible':[('state','!=','done')]}" class="oe_inline"/>
            </field>

            <div class="oe_right oe_button_box" position="replace"/>
            <field name="stage_id" position="replace"/>
            <field name="reference" position="replace"/>
            <field name="email_from" position="replace"/>
            <field name="partner_phone" position="replace"/>
            <field name="partner_mobile" position="replace"/> 
            <field name="categ_ids" position="replace"/>
            <field name="date_action" position="replace"/>
            <field name="title_action" position="replace"/>
            <field name="priority" position="replace"/>
            <field name="type_id" position="replace" />
            
            <field name="partner_name" position="replace">               
                <field name="partner_name" attrs="{'readonly': [('is_edit','=',True)]}"/>           
            </field>   

            <field name="name" position="replace">  
                <field name="name" attrs="{'readonly': [('is_edit','=',True)]}"/>
            </field>

            <label for="name" position="before">   
                <div class="oe_right" groups="hrd_ppi.group_hr_training_head">
                    <label for="is_edit" />
                    <field name="is_edit" />
                </div>             
            </label>            

            <field name="user_id" position="replace">
                <field name="user_id" readonly="1"/>
            </field>      

            <field name="source_id" position="replace">
                <field name="source_id" readonly="1"/>
            </field>                  

            <field name="partner_id" position="replace">
                <group string="Informasi Pribadi" colspan="2">
                    <field name="kelamin" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="kota_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="tgl_lahir" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="age"/>
                    <field name="agama_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="country_id" on_change="onchange_country(country_id)" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="status" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="sjk_tanggal" attrs="{'invisible': [('status','=','single')] ,'readonly': [('is_edit','=',True)]}"/>
                    <field name="email_from" widget="email" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="partner_phone" attrs="{'readonly': [('is_edit','=',True)]}"/>
					<field name="blood" attrs="{'readonly': [('is_edit','=',True)]}"/>
                </group>
                <group string="Kartu Identitas" colspan="2">
                    <field name="jenis_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="ktp" attrs="{'readonly': ['|',('is_edit','=',True),('is_edit','=',True)]}"/>
                    <field name="issued_id" attrs="{'invisible': [('jenis_id','=','Passport')],'readonly': [('is_edit','=',True)]}"/>
                    <field name="issued_id2" attrs="{'invisible': [('jenis_id','=','KTP')],'readonly': [('is_edit','=',True)]}"/>
                    <field name="tgl_keluar_ktp" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="tgl_berlaku" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="sim" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="tgl_keluar_sim" attrs="{'readonly': [('is_edit','=',True)]}"/> 
                    <field name="tgl_berlaku2" attrs="{'readonly': [('is_edit','=',True)]}"/>
                </group> 
                <group string="Interview">
                    <field view_mode="tree,form" name="surv_ids" >
                        <tree>
                            <field name='name'/>
                        </tree>
                        <form>
                            <field name='name'/>
                        </form>
                    </field>                  
                    <field view_mode="tree,form" name="meeting_ids">
                        <tree>
                            <field name='name'/>
                            <field name='date'/>
                            <field name='location'/>
                            <field name='state' invisible="1"/>
                        </tree>
                    </field>
                </group> 
                                   
            </field>

            <!--field name="user_id" position="replace">
                <field name="user_id" attrs="{'required':[('state','=','open')],'invisible':[('state','!=','open')]}" />
            </field-->
            <field name="user_id" position="before" >
            
                <group string="Pendidikan" colspan="2">
                    <field name="pengalaman" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="type_id" placeholder="Degree" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="bidang_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="jurusan_id" attrs="{'readonly': [('is_edit','=',True)]}"/> 
                    <field name="pt_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="result_id" attrs="{'readonly': [('is_edit','=',True)]}"/>  
                </group>
			
               <group colspan="2">
                    <group string="Alamat Domisili">
					<field name='country_id1' on_change="onchange_country1(country_id1)" attrs="{'readonly': [('is_edit','=',True)]}"/>	                  
                    <field name="prov_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="kab_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="kec_id" attrs="{'readonly': [('is_edit','=',True)]}"/>
					<field name="alamat1" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name='kode1' attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="telp1" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    </group>
                    <newline/>
                    <group string="Alamat sesuai KTP">
                    <field name='country_id2' on_change="onchange_country2(country_id2)" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="prov_id2" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="kab_id2" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="kec_id2" attrs="{'readonly': [('is_edit','=',True)]}"/>
					<field name="alamat2" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name='kode2' attrs="{'readonly': [('is_edit','=',True)]}"/>                  
                    <field name="telp2" attrs="{'readonly': [('is_edit','=',True)]}"/>                    	
                    </group>
					<newline/>
					<group>
					<field name="respon_div" attrs="{'readonly': [('is_edit','=',True)]}"/>
					</group>
                </group> 
            </field>
            
            <field name="source_id" position="after">                
                <newline/>
                <group string="Kesimpulan" states="open,pending" groups="hrd_ppi.group_hr_training_head">                                
                <button string="Diterima" name="simpul" type="object" states="open,pending" class="oe_highlight" />
                <button name="case_cancel" string="Ditolak" type="object" states="open,pending" class="oe_highlight" />
                </group>                 	
             </field>

			<group string="Job" position="replace" />

            <group string="Contract" position="replace" >
                <newline/>
                <group string="Job" col="2">
                    <field name="survey" invisible="1"/>
                    <field name="response" invisible="1"/>
                    <field name="job_id" on_change="onchange_job(job_id)" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <field name="department_id" on_change="onchange_department_id(department_id)" attrs="{'readonly': [('is_edit','=',True)]}"/>
                    <label for="availability"/>
                    <div>
                        <field name="availability" class="oe_inline" attrs="{'readonly': [('is_edit','=',True)]}"/> <label string="Day(s)" class="oe_inline"/>
                    </div>
                    <group string="Result"  colspan="2" attrs="{'invisible':[('state','=','draft')]}">
                        <field name="survey_result_ids" view_mode="tree,form" >
                            <tree>
                                <field name='result'/>
                                <field name='user_id'/>
                                <field name='stage'/>
                            </tree>
                            <form >
                                <field name='result'/>
                                <field name='user_id' />
                                <field name='reason' />
                            </form>
                        </field>
                    </group>
                </group>
                <group>
                    <group string="Contract">
                        <label for="salary_expected"/>
                        <div>
                            <field name="salary_expected" class="oe_inline" attrs="{'readonly': [('is_edit','=',True)]}"/>
                            <field name="fasilitas1_ids"/>
                        </div>
                        <label for="salary_proposed" string="Standar Gaji Perusahaan" groups="hrd_ppi.group_hr_user,hrd_ppi.group_hr_training_head"/>
                        <div groups="hrd_ppi.group_hr_user,hrd_ppi.group_hr_training_head">
                            <field name="salary_proposed_botom_margin" class="oe_inline" readonly="1"/>
                            <span class="oe_inline" > - </span>
                            <field name="salary_proposed_top_margin" class="oe_inline" readonly="1"/>
                            <field name="fasilitas2_ids"/>
                        </div>
                        <label for="salary_proposed" groups="hrd_ppi.group_hr_user,hrd_ppi.group_hr_training_head"/>
                        <div groups="hrd_ppi.group_hr_user,hrd_ppi.group_hr_training_head">
                            <field name="salary_proposed" class="oe_inline" attrs="{'required':[('state','=','done')],'invisible':[('state','!=','done')]}"/>
                        </div>
                    </group>
                </group>
            </group>

            <field name="description" position="after">
                <notebook colspan="4">                      
                        <page string="Susunan Keluarga Istri/Suami" name="istri/suami" attrs="{'invisible':[('status','=','single')]}">
                            <field view_mode="tree,form" name="susunan_kel1_ids" nolabel="1">
                                <tree>
                                    <field name="susunan"/>
                                    <field name="name"/>
                                    <field name="kelamin"/>  
                                    <field name="kota_id"/>
                                    <field name="tgl_lahir"/>
                                    <field name="type_id"/>
                                    <field name="pekerjaan"/>
                                </tree>
                                <form>
                                <group>
                                    <field name="susunan"/>
                                    <field name="name"/>
                                    <field name="kelamin"/>
                                </group>    
                                <group>    
                                    <field name="kota_id"/>
                                    <field name="tgl_lahir"/>
                                    <field name="type_id"/>
                                    <field name="pekerjaan"/>
                                </group>
                                </form>
                            </field>
                        </page>
                        
                         <page string="Susunan Keluarga Ayah/ibu" name="ayah/ibu">
                            <field view_mode="tree,form" name="susunan_kel2_ids" nolabel="1">
                                <tree>
                                    <field name="susunan"/>
                                    <field name="name"/>
                                    <field name="kelamin"/>
                                    <field name="kota_id"/>
                                    <field name="tgl_lahir"/>
                                    <field name="type_id"/>
                                    <field name="pekerjaan"/>
                                </tree>
                                <form>
                                <group>
                                    <field name="susunan"/>
                                    <field name="name"/>
                                    <field name="kelamin"/>
                                </group>    
                                <group>    
                                    <field name="kota_id"/>
                                    <field name="tgl_lahir"/>
                                    <field name="type_id"/>
                                    <field name="pekerjaan"/>
                                </group>
                                </form>
                            </field>
                        </page>
                        
                        <page string="Riwayat Pendidikan" name="rwt_pendidikan">
                            <field view_mode="tree,form" name="rwt_pend_ids" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                    <field name="jurusan"/>
                                    <field name="tempat"/>
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>
                                    <field name="ijazah"/>
                                </tree>
                                <form>
                                    <group>
                                    <field name="name"/>                                                                     
                                    <field name="jurusan"/>
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>                                   
                                    <field name="ijazah"/>
                                    </group>
                                    <group>
                                    <field name="tempat"/>
                                    </group>
                                </form>
                            </field>
                        </page>
                        
                         <page string="Bahasa" name="bahasa">
                            <field view_mode="tree,form" name="bahasa_ids" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                    <field name="tulis"/>
                                    <field name="lisan"/>
                                </tree>
                                <form>
                                <group>
                                    <field name="name"/>
                                </group>  
                                <group>  
                                    <field name="tulis"/>
                                    <field name="lisan"/>
                                </group>
                                </form>
                            </field>
                        </page>
                        
                        <page string="Riwayat Pekerjaan" name="rwt_krj">
                            <field view_mode="tree,form" name="rwt_krj_ids" nolabel="1">
                                <tree>
                                    <!--field name="no"/-->
                                    <field name="name"/>
                                    <field name="tempat"/>
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>
                                    <field name="jabatan"/>
                                    <field name="gaji"/>
                                    <field name="alasan"/>
                                </tree>
                                <form>
                                <group>
                                    <!--field name="no"/-->
                                    <field name="name"/>
                                    <field name="tempat"/>
                                </group>
                                <group>    
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>
                                    <field name="jabatan"/>
                                    <field name="gaji"/>
                                    <field name="alasan"/>
                                </group>     
                                </form>
                            </field>
                        </page>    
                        
                        <page string="Referensi Internal" name="konek1" >
                            <field view_mode="tree,form" name="koneksi1_ids" nolabel="1">
                                <tree>
                                    <field name='employee_id'/>
                                    <field name='job_id'/>
                                    <field name='Departmen_id'/>                                  
                                    <field name="telepon"/>
                                </tree>
                                <form>
                                    <group>
                                    <field name='employee_id'/>
                                    <field name='job_id'/>
                                    </group>
                                    <group>
                                    <field name='Departmen_id'/>                                    
                                    <field name="telepon"/>
                                    </group>
                                </form>
                            </field>                                
                        </page>
                        	    	
                        <page string="Referensi Eksternal" name="konek2" >
                            <field view_mode="tree,form" name="koneksi2_ids" nolabel="1">
                                <tree>
                                    <field name='name'/>                                    
                                    <field name='jabatan'/>
                                    <field name="alamat"/>
                                    <field nema="telepon"/>
                                </tree>
                                <form>
                                <group>
                                    <field name='name'/>
                                    <field name='jabatan'/>
                                </group>
                                <group>   
                                    <field name="alamat"/>
                                    <field name="telepon"/>
                               </group>
                               </form>
                            </field>                                
                        </page>
                        
                    </notebook>      
             </field>   
        </field>
    </record>
     <!--record model="ir.ui.view" id="survey_form">
            <field name="name">survey_form</field>
            <field name="model">survey</field>
            <field name="inherit_id" ref="survey.survey_form"/>
            <field name="arch" type="xml">
                <field name="response_user" position="after">
                    <field name="job_id"/>
                    <field name='tgl_int'/>
                </field>
            </field>
    </record--> 
    
     <!--record id="seq_type_library_sub_resource" model="ir.sequence.type">
            <field name="name">No</field>
            <field name="code">hr_recruit.rwt_krj</field>
        </record>

        <record id="seq_library_sub_resource" model="ir.sequence">
            <field name="name">No</field>
            <field name="code">hr_recruit.rwt_krj</field>
            <field name="prefix"></field>
            <field name="padding">1</field>
        </record-->
    <record id="view_country_form" model="ir.ui.view">
            <field name="name">res.country.form</field>
            <field name="model">res.country</field>
            <field name="inherit_id" ref="base.view_country_form"/>
            <field name="arch" type="xml">
                <field name="code" position="after">
                    <field name='code_telp'/>
                </field>
            </field>
    </record>  

    <record id="view_meeting_form" model="ir.ui.view">
            <field name="name">Interview</field>
            <field name="model">crm.meeting</field>
            <field name="inherit_id" ref="base_calendar.view_crm_meeting_form"/>
            <field name="arch" type="xml">
                <field name="categ_ids" position="replace"/>
                <field name="organizer" position="replace"/>
                <field name="description" position="after">
                <field view_mode="tree" name="applicant_ids" >
                        <tree editable="bottom">
                            <field name="create_date"/> 
                            <field name="name" string="Subject"/> 
                            <field name="partner_name"/> 
                            <field name="type_id"/>
                            <field name="job_id"/> 
                            <field name="department_id" invisible="context.get('invisible_department', True)"/>
                            <field name="stage_id"/>
                        </tree>                    
                </field>
                </field>
            </field>
    </record>

        <record id="action_hr_pmeeting applicant" model="ir.actions.act_window">
            <field name="name">Interview</field>
            <field name="res_model">crm.meeting</field>
            <field name="view_type">form</field>           
            <field name="view_mode">calendar,tree,form</field>
        </record>   

    <menuitem name="Jadwal Interview"
        id="menu_hr_meeting_applicant"
        parent="base.menu_crm_case_job_req_main"
        sequence="25" action="action_hr_pmeeting applicant"/>

   

    </data>
</openerp>