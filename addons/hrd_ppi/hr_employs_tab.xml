<openerp>
    <data>
        <record model="ir.ui.view" id="tab_form_view">
            <field name="name">employe</field>
            <field name="model">hr.employee</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
                 <field name="name" position="after">
                    <field name="nik" placeholder="Nomor Induk Karyawan"/>
                </field>
                <page string="Public Information" position="replace"> 
                    <page string="Job &amp; Public Information">
                                <group>
                                    <group string="Contact Information">
                                        <field name="address_id" on_change="onchange_address_id(address_id)" context="{'show_address': 1}" options='{"always_reload": True, "highlight_first_line": True}'/>
                                        <field name="work_email" widget="email"/>
                                        <field name="work_phone"/>
                                        <field name="mobile_phone"/>
                                        <field name="work_location"/>
                                        <field name="parent_id"/>
                                        <field name="coach_id"/>
                                    </group>
                                    <group string="Position">
                                        <field name="clas_id"/>
                                        <field name="department_id" on_change="onchange_department_id(department_id)"/>
                                        <field name="title_id"/>
                                        <field name="extitle_id"/>
                                        <field name="gol_id"/>
                                        <field name="job_id" options='{"no_open": True}' domain="[('state','!=','old')]" context="{'form_view_ref': 'hr.view_hr_job_employee_form'}"/>
                                        <field name="wfield_id"/>
                                        <field name="pansion_id"/>
                                        
                                    </group>
                                    <group>
                                        <field name="company_id" groups="base.group_multi_company" on_change="onchange_company(company_id)"/>
                                        <field name="user_id" on_change="onchange_user(user_id)" string="Related User"/>
                                    </group>
                                </group>
                                <field name="notes" placeholder="Other Information ..." colspan="4"/>
                            </page>
                       </page>     
                   <page string="Personal Information" position="replace">                    
                         <page string="Personal Information" groups="base.group_hr_user">
                               <group>
                                    <group string="Citizenship &amp; Other Info">
                                        <group >
                                            <field name="kelamin"/>
                                            <field name="blood"/>
                                            <field name="bahasa2_id"/>
                                            <field name='country_id'/>
                                            <field name="bank_account_id"/>
                                        </group>
                                    </group>
                                    <group string="Education">
                                        <field name="type_id"/>
                                        <field name="jurusan_id"/>
                                        <field name="result_id"/>
                                        <field name="gelar_id"/>
                                     </group>
                               </group> 
                                <group>
                                    <group string="Contact Information">
                                    <group>
                                        <field name='alamat1' placeholder="Alamat di Jakarta"/>
                                        <field name="kota_id" placeholder="Kota di Jakarta"/>
                                        <field name="kodepos" placeholder="Kode Pos di Jakarta"/>
                                        <field name='telp1' placeholder="Telp. di Jakarta"/>
                                        <field name='alamat2' placeholder="Alamat Luar Jakarta"/>
                                        <field name="kota_id" placeholder="Kota di Luar Jakarta"/>
                                        <field name="kodepos" placeholder="Zip"/>                         
                                        <field name='telp2' placeholder="Telp. di Luar Jakarta"/>
                                        <field name="country_id2"/>
                                        <field name="address_home_id" context="{'show_address': 1}" options='{"always_reload": True, "highlight_first_line": True}' placeholder="From Employee"/>
                                    </group>    
                                    </group>
                                    <group>
                                        <group string="ID Card &amp; Status &amp; Birth">
                                            <field name="jenis_id"/>
                                            <field name='ktp' attrs="{'invisible':[('jenis_id','!=','KTP')]}"/>
                                            <!--field name='tgl_keluar_ktp' attrs="{'invisible':[('jenis_id','!=','KTP')]}"/-->
                                            <field name='tgl_berlaku' attrs="{'invisible':[('jenis_id','!=','KTP')]}"/>
                                            <!--field name='sim'/-->
                                            <field name='tgl_keluar_sim' attrs="{'invisible':[('jenis_id','!=','SIM')]}"/>  
                                            <field name='tgl_keluar_sima' attrs="{'invisible':[('jenis_id','!=','SIM_A')]}"/> 
                                            <field name='tgl_keluar_simc' attrs="{'invisible':[('jenis_id','!=','SIM_C')]}"/>        
                                            <field name="no_pass" attrs="{'invisible':[('jenis_id','!=','Passport')]}"/>
                                            <field name="no_rek" attrs="{'invisible':[('jenis_id','!=','Rek.Bank')]}"/> 
                                            <field name="no_sim" attrs="{'invisible':['|',('jenis_id','!=','SIM')]}"/>    
                                            <field name="no_sim" attrs="{'invisible':['|',('jenis_id','!=','SIM_A')]}"/>
                                            <field name="no_sim" attrs="{'invisible':['|',('jenis_id','!=','SIM_C')]}"/> 
                                            <field name="issued_id"/>                                
                                            <field name='agama'/>
                                            <field name='marital'/>
                                            <field name="jml_anak" attrs="{'invisible':[('marital','=','single')]}"/>
                                            <field name='sjk_tanggal' attrs="{'invisible':[('marital','=','single')]}"/> 
                                            <field name='birthday'/>
                                            <field name="kota_id"/>                                           
                                    </group>                              
                                    </group>
                                    </group>
                                    <group string="Susunan Keluarga Istri/Suami">
                                    <field name='susunan_kel1_ids' view_mode="tree,form" widget="one2many_list" nolabel="1">
                                        <tree>
                                                <field name="susunan"/>
                                                <field name="name"/>
                                                <field name="kelamin"/> 
                                                <field name="kota_id"/>
                                                <field name="tgl_lahir"/>
                                                <field name="type_id"/>
                                                <field name="pekerjaan"/>
                                        </tree>
                                        <form>
                                             <group>
                                                <field name="susunan"/>
                                                <field name="name"/>
                                                <field name="kelamin"/>
                                            </group>    
                                            <group>    
                                                <field name="kota_id"/>
                                                <field name="tgl_lahir"/>
                                                <field name="type_id"/>
                                                <field name="pekerjaan"/>
                                            </group>
                                        </form>
                                    </field>
                                    </group>
                                    
                                    <group string="Susunan Keluarga Ayah/Ibu">
                                    <field view_mode="tree,form" name='susunan_kel2_ids' widget="one2many_list" nolabel="1">
                                        <tree>
                                            <field name='susunan'/>
                                            <field name="name"/>
                                            <field name="kelamin"/>
                                            <field name="kota_id"/>
                                            <field name='tgl_lahir'/>
                                            <field name='type_id'/>
                                            <field name='pekerjaan'/>
                                        </tree>
                                        <group>
                                                <field name="susunan"/>
                                                <field name="name"/>
                                                <field name="kelamin"/>
                                            </group>    
                                            <group>    
                                                <field name="kota_id"/>
                                                <field name="tgl_lahir"/>
                                                <field name="type_id"/>
                                                <field name="pekerjaan"/>
                                            </group>
                                    </field>
                                    </group>
                                    
                                <group string="Riwayat Pendidikan">    
                                <field view_mode="tree,form" name='rwt_pend_ids' widget="one2many_list" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                    <field name="jurusan"/>
                                    <field name="tempat"/>
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>
                                    <field name="ijazah"/>
                                </tree>
                                <form>
                                <group>
                                    <field name="name"/>                                                                     
                                    <field name="jurusan"/>
                                    <field name="tahun_msk"/>
                                    <field name="tahun_klr"/>                                   
                                    <field name="ijazah"/>
                                 </group>
                                 <group>
                                    <field name="tempat"/>
                                 </group>
                                </form>                                       
                                </field>
                                 </group>   
                                    
                                    <group string ="Bahasa">
                                    <field view_mode="tree,form" name='bahasa_ids' nolabel="1" >
                                        <tree>
                                            <field name='name'/>
                                            <field name='tulis'/>
                                            <field name='lisan'/>
                                        </tree>
                                        <form>
                                            <group>
                                                <field name="name"/>
                                            </group>  
                                            <group>  
                                                <field name="tulis"/>
                                                <field name="lisan"/>
                                            </group>
                                        </form>
                                    </field>
                                    </group>
                                    
                                    <group string="Riwayat Pendidikan">
                                    <field view_mode="tree,form" name='rwt_krj_ids' nolabel="1">
                                        <tree>
                                            <field name="no"/>
                                            <field name="name"/>
                                            <field name="tempat"/>
                                            <field name="tahun_msk"/>
                                            <field name="tahun_klr"/>
                                            <field name="jabatan"/>
                                            <field name="gaji"/>
                                            <field name="alasan"/>
                                        </tree>
                                        <form>
                                        <group>
                                            <field name="no"/>
                                            <field name="name"/>
                                            <field name="tempat"/>
                                        </group>
                                        <group>    
                                            <field name="tahun_msk"/>
                                            <field name="tahun_klr"/>
                                            <field name="jabatan"/>
                                            <field name="gaji"/>
                                            <field name="alasan"/>
                                        </group>     
                                </form>
                                    </field>
                                    </group>
                                    
                                    <group string="Referensi Internal">
                                    <field view_mode="tree,form" name='koneksi1_ids' nolabel="1">
                                         <tree>
                                            <field name='employee_id'/>
                                            <field name='job_id'/>
                                            <field name="alamat"/>                                    
                                            <field name="telepon"/>
                                        </tree>
                                        <form>
                                            <group>
                                            <field name='employee_id'/>
                                            <field name='job_id'/>
                                            </group>
                                            <group>
                                            <field name="alamat"/>                                    
                                            <field name="telepon"/>
                                            </group>
                                        </form>
                                    </field>    
                                    </group>
                                                               
                                    <group string = "Referensi Eksternal">
                                    <field view_mode="tree,form" name='koneksi2_ids' nolabel="1">
                                         <tree>
                                            <field name='name'/>
                                            <field name='jabatan'/>
                                            <field name="alamat"/>                                    
                                            <field name="telepon"/>
                                        </tree>
                                        <form>
                                            <group>
                                            <field name='name'/>
                                            <field name='jabatan'/>
                                            </group>
                                            <group>
                                            <field name="alamat"/>                                    
                                            <field name="telepon"/>
                                            </group>
                                        </form>
                                    </field>
                                    </group>
                                </page>
                                                                    
                               
                    </page>
                    
             </field>                                                   
        </record>
        
         <record id="view_employee_tree" model="ir.ui.view">
            <field name="name">hr.employee.tree</field>
            <field name="model">hr.employee</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="hr.view_employee_tree"/>            
            <field name="arch" type="xml"> 
                    <field name="name" position="before">
                    <field name="nik"/>
                    </field>
                    <field name="name" position="after">
                    <field name="gol_id"/>
                    <field name="type_id"/>
                    <field name="jurusan_id"/>
                    </field>
                    <field name="work_phone" position="replace"/>
                    <field name="work_email" position="replace"/>
            </field>
        </record>
        
        <record id="view_employee_filter2" model="ir.ui.view">
            <field name="name">Employees</field>
            <field name="model">hr.employee</field>
            <field name="type">search</field>
            <field name="inherit_id" ref="hr.view_employee_filter"/>
            <field name="arch" type="xml">
                <search string="Employees">
                    <group expand="0" string="Group By...">
                        <filter string="Golongan" icon="terp-personal" domain="[]" context="{'group_by':'gol_id'}"/>
                        <filter string="Pendidikan" icon="terp-personal" domain="[]" context="{'group_by':'type_id'}"/>
                        <filter string="Jurusan" icon="terp-personal+" domain="[]" context="{'group_by':'jurusan_id'}"/>
                        <!--filter string="Job" icon="terp-gtk-select-all" domain="[]" context="{'group_by':'job_id'}"/>
                        <filter string="Company" icon="terp-go-home" domain="[]" context="{'group_by':'company_id'}" groups="base.group_multi_company"/-->
                    </group>
                </search>
             </field>
         </record>
        
        
    </data>
</openerp>
