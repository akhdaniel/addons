<openerp>
<data>


<!-- Registration Form -->
<template id="vit_universities_web.registration">
    <t t-call="website.layout">
        <t t-set="title">Registration Form</t>
        <div class="container">

            <t t-if="message_error">
                <br />
                <div class="alert alert-danger">
                    <t t-esc="message_error"/>
                    <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                </div>
            </t>

            <t t-if="message_success">
                <br />
                <div class="alert alert-success">
                    <t t-esc="message_success"/>
                    <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                </div>
            </t>

            <t t-if="message">
                <br />
                <div class="alert alert-info">
                    <t t-esc="message"/>
                    <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                </div>
            </t>

        	<h2>Registration Form  <t t-esc="partner.reg"/></h2>

               
            <form t-attf-action="/registration_process/{{ slug(partner) }}" method="post" class="form-horizontal mt32" enctype="multipart/form-data">

                <h3>DATA AKADEMIK</h3>


                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="tahun_id">Tahun Akademik / Semester</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="tahun_id">
                          <t t-foreach="tahun_ids" t-as="tahun">
                            <option t-att-value="'%s' % (tahun.id)" t-esc="tahun.name" />
                          </t>
                        </select>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="semester_id">
                          <t t-foreach="semester_ids" t-as="semester">
                            <option t-att-value="'%s' % (semester.id)" t-esc="semester.name" />
                          </t>
                        </select>
                    </div>
                </div>  

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="type_pendaftaran">Type Pendaftaran</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="type_pendaftaran">
                          <t t-foreach="type_pendaftarans" t-as="tp">
                            <option t-att-value="'%s' % (tp[0])" t-esc="tp[1]" />
                          </t>
                        </select>
                    </div>
                </div> 

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="jenis_pendaftaran_id">Jalur Masuk</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="jenis_pendaftaran_id" id="jalur_masuk">
                          <t t-foreach="jenis_pendaftaran_ids" t-as="jp">
                            <option t-att-value="'%s' % (jp.id)" t-esc="jp.name" />
                          </t>
                        </select>
                    </div>
                </div>

                

                <div class="form-group" id="type_mahasiswa">
                    <label class="col-md-3 col-sm-4 control-label" for="type_mhs_id">Type Mahasiswa</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="type_mhs_id">
                          <t t-foreach="type_mhs_ids" t-as="type_mhs">
                            <option t-att-value="'%s' % (type_mhs.id)" t-esc="type_mhs.name" />
                          </t>
                        </select>
                    </div>
<!--                     <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="jadwal_id">
                          <t t-foreach="jadwal_ids" t-as="tp">
                            <option t-att-value="'%s' % (tp[0])" t-esc="tp[1]" />
                          </t>
                        </select>
                    </div> -->
                </div>   

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="pagi">Waktu Kuliah</label>

                    <div class="col-md-1 col-sm-2">
                        <label><input type="checkbox" name="jadwal_pagi" value="Pagi"/> Pagi</label>
                    </div>

                    <div class="col-md-1 col-sm-2">
                        <label><input type="checkbox" name="jadwal_siang" value="Siang"/> Siang</label>
                    </div>  

                    <div class="col-md-1 col-sm-2">
                        <label><input type="checkbox" name="jadwal_malam" value="Malam"/> Malam</label>
                    </div>   

                </div>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="prodi_id">Jurusan / Prodi</label>
                    <div class="col-md-7 col-sm-8">
                        <select class="form-control" name="prodi_id" id="prodi">
                          <t t-foreach="prodi_ids" t-as="prodi">
                            <option t-att-value="'%s' % (prodi.id)" t-esc="prodi.name" />
                          </t>
                        </select>
                    </div>
                </div>    


                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="alamat_id">Lokasi Kampus</label>
                    <div class="col-md-7 col-sm-8">
                        <select class="form-control" name="alamat_id">
                          <t t-foreach="alamat_ids" t-as="alamat">
                            <option t-att-value="'%s' % (alamat.id)" t-esc="alamat.name" />
                          </t>
                        </select>
                    </div>
                </div>    


                <h3>DATA PRIBADI</h3>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="name">Nama</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="name" required="True" 
                            t-attf-value="{{ partner.name }}" maxlength="60"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="id_card" 
                            t-attf-value="{{ partner.id_card }}" required="True" placeholder="No. KTP/SIM" maxlength="30"/>
                    </div>  
                </div>    


                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="photo">Pas Photo</label>
                    <div class="col-md-3 col-sm-4">
                        <input class="input-file" id="photo" type="file" name="photo" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="email" readonly="True" 
                            t-attf-value="{{ partner.email }}" />
                    </div>
                </div>    

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="tempat_lahir">Tempat / Tanggal Lahir</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="tempat_lahir" required="True" t-attf-value="{{ partner.tempat_lahir }}" placeholder="Tempat Lahir"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="date" class="form-control" name="tanggal_lahir" required="True" 
                            t-attf-value="{{ partner.tanggal_lahir }}" placeholder="Tanggal Lahir"/>
                            
                    </div>
                </div>  


                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="jenis_kelamin">Jenis Kelamin</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="jenis_kelamin">
                          <t t-foreach="jenis_kelamins" t-as="jk">
                            <option t-att-value="'%s' % (jk[0])" t-esc="jk[1]" />
                          </t>
                        </select>
                    </div>
                </div> 
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="agama">Agama</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="agama">
                          <t t-foreach="agamas" t-as="ag">
                            <option t-att-value="'%s' % (ag[0])" t-esc="ag[1]" />
                          </t>
                        </select>
                    </div>
                </div> 

<!--                 <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="street">Alamat Rumah</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="street" 
                            t-attf-value="{{ partner.street }}" required="True" placeholder="street"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="street2" 
                            t-attf-value="{{ partner.street2 }}" placeholder="street2"/>
                    </div>
                </div>  --> 
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="street">Alamat Rumah</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" class="form-control" name="street" 
                            t-attf-value="{{ partner.street }}" required="True" placeholder="street" maxlength="128"/>
                    </div>
                </div> 


                <div class="form-group">
                    <div class="col-md-3 col-sm-4"></div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="city" 
                            t-attf-value="{{ partner.city }}" required="True" placeholder="city" maxlength="60"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="zip" 
                            t-attf-value="{{ partner.zip }}" required="True" placeholder="Kode Pos" maxlength="6"/>
                    </div>                    
                </div>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="street">Telepon</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="phone" 
                            t-attf-value="{{ partner.phone }}" placeholder="Telepon Rumah" required="True" maxlength="10"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="mobile" 
                            t-attf-value="{{ partner.mobile }}" required="True" placeholder="Telepon Selular ..." maxlength="15"/>
                    </div>                    
                </div>

<!--                 <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="pekerjaan">Pekerjaan</label>
                    <div class="col-md-7 col-sm-8">
                        <select class="form-control" name="pekerjaan">
                          <t t-foreach="pekerjaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" />
                          </t>
                        </select>
                    </div>
                </div>  --> 

                <h3>DATA ORANG TUA</h3>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="nama_ayah">Nama Ayah</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="nama_ayah" required="True"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="keadaan_ayah">
                          <t t-foreach="keadaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Keadaan Ayah"/>
                          </t>
                        </select>
                    </div>                     
                </div>  

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="pekerjaan">Pekerjaan Ayah</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="pekerjaan">
                          <t t-foreach="pekerjaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Pekerjaan Ayah"/>
                          </t>
                        </select>
                    </div> 
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="penghasilan_ayah" required="True" >
                          <t t-foreach="penghasilan_ayah" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Penghasilan Ayah"/>
                          </t>
                        </select>
                    </div>                    
                </div>    

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="telpon_ayah">Alamat Ayah</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="alamat_ayah" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="telpon_ayah" placeholder="Telepon Ayah ..." maxlength="15"/>
                    </div>
                </div>  

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="nama_ibu">Nama Ibu</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="nama_ibu" required="True"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="keadaan_ibu">
                          <t t-foreach="keadaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Keadaan Ibu"/>
                          </t>
                        </select>
                    </div>   
                </div>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="pekerjaan2">Pekerjaan Ibu</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="pekerjaan2">
                          <t t-foreach="pekerjaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Pekerjaan Ibu"/>
                          </t>
                        </select>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="penghasilan_ibu" required="True" >
                          <t t-foreach="penghasilan_ayah" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Penghasilan Ibu"/>
                          </t>
                        </select>
                    </div>   
                </div> 

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="alamat_ibu">Alamat Ibu</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="alamat_ibu" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="telpon_ibu" placeholder="Telepon Ibu ..." maxlength="15"/>
                    </div>
                </div>  

                <h3>DATA PENANGGUNG BIAYA KULIAH</h3>
                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="nama_penanggung">Nama</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="nama_penanggung" required="True"/>
                    </div>  
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="jk_penanggung">
                          <t t-foreach="jenis_kelamins" t-as="jkp">
                            <option t-att-value="'%s' % (jkp[0])" t-esc="jkp[1]" />
                          </t>
                        </select>
                    </div>                      
                </div>

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="pekerjaan3">Pekerjaan</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="pekerjaan3">
                          <t t-foreach="pekerjaans" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Pekerjaan Penanggung"/>
                          </t>
                        </select>
                    </div> 
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="penghasilan_penanggung">
                          <t t-foreach="penghasilan_ayah" t-as="p">
                            <option t-att-value="'%s' % (p[0])" t-esc="p[1]" placeholder="Penghasilan Penanggung"/>
                          </t>
                        </select>
                    </div>                      
                </div> 

                <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="alamat_penanggung">Alamat</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="alamat_penanggung" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="telpon_penanggung" placeholder="Telepon Penanggung ..." maxlength="15"/>
                    </div>
                </div>  



                <h3>DATA PENDIDIKAN TERAKHIR</h3>

               <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="asal_sma">Asal SMA/Sederajat</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_sma" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_jurusan_sma" placeholder="Jurusan (cth: IPA/IPS,dll...)"/>
                    </div>
                </div> 

               <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="asal_sma">Alamat</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_alamat_sma" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_website_sma" placeholder="Website..."/>
                    </div>
                </div> 

               <div class="form-group non_baru">
                    <label class="col-md-3 col-sm-4 control-label" for="asal_universitas">Asal PT (Jika Pindahan/Lanjutan)</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_universitas" id="asal_universitas"/>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="nim_asal" placeholder="NIM ..." />
                    </div>          
                </div>  

               <div class="form-group non_baru">
                    <label class="col-md-3 col-sm-4 control-label" for="asal_alamat_univ">Alamat</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_alamat_univ" />
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="asal_website_univ" placeholder="Website..." />
                    </div>           
                </div> 

               <div class="form-group non_baru">
                    <label class="col-md-3 col-sm-4 control-label" for="konsentrasi_id">Konsentrasi Pilihan</label>
                    <div class="col-md-3 col-sm-4">
                        <select class="form-control" name="konsentrasi_id" id="konsentrasi" t-attf-readonly="#{True if readonly==1 else False}">
                        <t t-foreach="konsentrasi_ids" t-as="konsentrasi">
                            <option t-att-value="konsentrasi.id" 
                                t-attf-value="#{partner and partner.prodi_id.id == konsentrasi.prodi_id.id}">
                                <t t-esc="konsentrasi.name"/>
                            </option>
                        </t>

                        </select>
                    </div> 
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="prodi_asal_id" placeholder="Prodi Asal..." />
                    </div>         
                </div> 


                <h3>PEMBERI REKOMENDASI (Info ISTN Didapat Dari :)</h3>
               <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="prodi_asal_id">Nama</label>
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="rekomendasi" placeholder="Referensi..."/>
                    </div> 
                    <div class="col-md-3 col-sm-4">
                        <input type="text" class="form-control" name="telp_rekomendasi" placeholder="Telepon..."/>
                    </div>                    
                </div>                 
<!--                 <h3>DATA PEKERJAAN (JIKA SUDAH BEKERJA)</h3>
               <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="nama_instansi">Nama Instansi</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" class="form-control" name="nama_instansi" />
                    </div>
                </div>  
               <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="jabatan">Jabatan</label>
                    <div class="col-md-7 col-sm-8">
                        <input type="text" class="form-control" name="jabatan" />
                    </div>
                </div>  -->

                <h3></h3>              
                 <div class="form-group">
                    <div class="col-md-offset-3 col-sm-offset-4 col-sm-8 col-md-7">
                        <button type="submit" name="confirm" class="btn btn-primary">
                            Confirm
                        </button>
                    </div>
                </div> 

            </form>
        </div>
    </t>

    <script>
        $("#jalur_masuk").change(function(){
            if($(this).val()!=1){
                $(".non_baru").show();
                $("#asal_universitas").prop("required", true);
            }else{
                $(".non_baru").hide();
                $("#asal_universitas").prop("required", false);
            }
        });

<!--         var request;
        $("#prodi").change(function(){
            if (request) {
                request.abort();
            }

            request = $.ajax({
                url: "/cek_prodi",
                type: "post",
                data: {"prodi_id":$(this).val()}
            });

            alert($(this).val()); 
        }); -->
    </script>
</template>

<!-- Registration Succeed -->

<template id="vit_universities_web.registration_process" name="Registration" page="True">
    <t t-call="website.layout">
        <t t-set="title">Registration</t>
        <div class="container">
            
            <p>Silahkan cek di pojok kanan atas > my account > Invoices</p>
            <p>Jika sudah divalidasi oleh kami, maka akan muncul tagihan yang harus dibayar</p>
            <p>Gunakan nomir Invoices tersebut sebagai ID tagihan di BNI</p>
            <t t-if="message_success">
                <br />
                <div class="alert alert-success">
                    <h2>Registration Sukses</h2>
                    <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                </div>
            </t>

            <p>Silahkan melakukan pembayaran sbb:</p>

            <p>Klik menu konfirmasi jika anda sudah melakukan pembayaran</p>

        </div>
    </t>
</template>



</data>
</openerp>